<!DOCTYPE html>
<html lang="en">
<head>
    <base href="http://localhost:3000" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Smart contract</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./scripts/web3.js"></script>
    <script src="./process.js"></script>
</head>
<body>
    <div class="container">
        <div class="row" style="margin-top: 20px;">
            <h1 style="width: 100%; text-align: center; color: red;">ĐĂNG KÝ HỌC</h1>
        </div>
        <div class="row" style="margin-top: 10px;">
            <div class="col">
                <div class="row" >
                    <button id="connectMM" class="btn btn-primary" style="margin-left: 20px">Login MetaMask</button>
                </div>
                <div id= "frmDangKy" class="form" style="margin: 20px 0 0 0; border-right: 1px solid grey;">
                    <div class="form-group">
                        <input id="txtHoTen" type="text" placeholder="Họ và tên" style="width: 70%">
                    </div>
                    <div class="form-group">
                        <input id="txtEmail" type="email" placeholder="Email" style="width: 70%">
                    </div>
                    <div class="form-group">
                        <input id="txtSoDT" type="text" placeholder="Số điện thoại" style="width: 70%">
                    </div>
                    <div class="form-group">
                        <button id ="btnDangKy" class="btn btn-success">Đăng ký</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="row">
                    <h5 style="width: 100%; text-align: center; margin-top: 10px; color: blue;">Danh sách học sinh đã đăng ký thành công!</h5>
                </div>
                <div id="danhsach" style="margin-top: 10px;">
                    <table class="table" id = "tbDS">
                        <thead>
                            <tr>
                              <th scope="col">Địa chỉ ví</th>
                              <th scope="col">ID</th>
                            </tr>
                        </thead>
                        
                    </table>
                </div>
            </div>
        </div>
        <div class="row" style="margin-top: 50px;">
            <h5><i>Chú thích:</i></h5>
            <p>
                - Đầu tiên người dùng đăng nhập bằng ví MetaMask  ( Connect, lấy địa chỉ ví) <br>
                - Tiếp theo người dùng nhập thông tin vào form và ấn <b>Đăng Ký</b>, nếu như chưa đăng nhập MetaMask thì hệ thống sẽ hiện thông báo (Gửi ID và địa chỉ ví)<br> 
                - Hệ thống sẽ mở ví MetaMask cho người dùng thanh toán  (Thanh toán và lưu ID, địa chỉ ví vào Smart Contract) <br>
                - Sau khi thanh toán thành công, hệ thống sẽ hiện thị địa chỉ ví và ID của người dùng vào bảng <b>Danh sách học sinh đã đăng ký thành công</b> và lưu dữ liệu vào MongoDB (Smart contract gửi về ID và địa chỉ ví) <br>
                - Hệ thống cũng sẽ tự động cập nhật các người dùng đang cùng lúc thanh toán thành công vào Danh sách học sinh đã đăng ký thành công (Hiển thị cho tất cả người dùng xem(Sử dụng Infura))
            </p>

        </div>
    </div>
    
</body>
</html>